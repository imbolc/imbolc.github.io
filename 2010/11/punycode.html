<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Домен .рф в конфигах (punycode, idna)</title>
        
        <link href="/css/mui.min.css?v=f60f7" rel="stylesheet">
        <link rel="alternate" type="application/rss+xml" href="/feeds/posts/default" title="imbolc.name">
        
    </head>
    <body>
        <div class="mui-container">
            
<h1>Домен .рф в конфигах (punycode, idna)</h1>
<div>
    <div>
        <p>Для того, чтобы прописать кириллический домен (например, .рф)
в конфигах (bind, nginx, apache, etc..)
его нужно преобразовать в punycode. Сделать это можно <a href="http://www.reg.ru/whois/punycode">тут</a>.</p>
<p>На python pynicode, а точнее idna перекодировка осуществляется штатными средствами:</p>
<pre><code>&gt;&gt;&gt; u'домен.рф'.encode('idna')
'xn--d1acufc.xn--p1ai'
&gt;&gt;&gt; print 'xn--d1acufc.xn--p1ai'.decode('idna').encode('utf-8')
домен.рф
</code></pre>

    </div>

    <div id="disqus_thread"></div>
<script>
var disqus_config = function () {
    var url = 'http://imbolc.name/2010/11/punycode.html';
    this.page.url = url;
    this.page.identifier = url;
};
(function() {
    var d = document, s = d.createElement('script');
    s.src = '//imbolc.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>

        </div>

        
        
    </body>
</html>